<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Purchase & Contact</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #ffffff;
      color: #000000;
      padding: 20px;
    }

    .section {
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      max-width: 900px;
      margin: 30px auto;
    }

    h2 {
      text-align: center;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-row {
      display: flex;
      gap: 10px;
    }

    .form-row .form-group {
      flex: 1;
      margin-bottom: 0;
    }

    label {
      display: block;
      margin-bottom: 5px;
    }

    input, select, textarea {
      width: 100%;
      padding: 10px;
      border-radius: 4px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }

    textarea {
      resize: vertical;
      min-height: 100px;
    }

    button {
      background-color: #000000;
      color: white;
      border: none;
      padding: 10px 20px;
      cursor: pointer;
      border-radius: 4px;
    }

    button:hover {
      background-color: #45a049;
    }

    .gallery {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
    }

    .item {
      background-color: #f0f0f0;
      border-radius: 8px;
      padding: 10px;
      width: 250px;
      text-align: center;
    }

    .item img {
      width: 100%;
      border-radius: 8px;
    }

    .cart {
      background-color: #f0f0f0;
      padding: 20px;
      border-radius: 8px;
      margin-top: 40px;
    }

    .cart-items {
      list-style-type: none;
      padding: 0;
    }

    .cart-items li {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #ccc;
    }

    .remove-button {
      background-color: #ff4444;
      color: white;
      border: none;
      padding: 5px 10px;
      cursor: pointer;
      border-radius: 4px;
    }

    .checkout-button {
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <!-- Purchase Section -->
  <div class="section">
    <h2>Purchase Paintings</h2>
    <div class="gallery" id="gallery"></div>
  </div>

  <!-- Contact + Cart Form -->
  <div class="section">
    <h2>Contact & Checkout</h2>
    <form action="https://formspree.io/f/xjkowbno" method="POST">
      <div class="form-row">
        <div class="form-group">
          <label for="fname">First Name</label>
          <input type="text" id="fname" name="first_name" required>
        </div>
        <div class="form-group">
          <label for="lname">Last Name</label>
          <input type="text" id="lname" name="last_name" required>
        </div>
      </div>

      <div class="form-group">
        <label for="country">Country</label>
        <select id="country" name="country" required>
          <option value="">--Select Country--</option>
          <option value="CAN">Canada</option>
          <option value="USA">United States</option>
        </select>
      </div>

      <div class="form-group">
        <label for="phone">Phone Number</label>
        <input type="tel" id="phone" name="phone" required>
      </div>

      <div class="form-group">
        <label for="email">Email Address</label>
        <input type="email" id="email" name="email" required>
      </div>

      <div class="form-group">
        <label for="message">Message</label>
        <textarea id="message" name="message" required></textarea>
      </div>

      <!-- Cart Section -->
      <div class="cart">
        <h3>Your Cart</h3>
        <ul class="cart-items" id="cart-items"></ul>
        <p><strong>Subtotal: $<span id="subtotal">0</span></strong></p>
        <p><strong>Tax (13%): $<span id="tax">0</span></strong></p>
        <p><strong>Shipping: $<span id="shipping">5</span></strong></p>
        <p><strong>Total: $<span id="total">0</span></strong></p>
      </div>

      <!-- Hidden cart summary for form -->
      <input type="hidden" name="cart_summary" id="cart-summary">

      <input type="hidden" name="_subject" value="New Contact & Purchase">
      <input type="hidden" name="_next" value="https://yourwebsite.com/thankyou.html">

      <div class="form-group">
        <button type="submit">Submit Order</button>
      </div>
    </form>
  </div>

  <script>
    const imageList = Array(17).fill({ src: "Anahita Akhavan - Adrift.jpg", name: "Painting", price: 5 });
    const gallery = document.getElementById('gallery');
    const cart = [];

    imageList.forEach((img) => {
      const item = document.createElement('div');
      item.className = 'item';
      item.innerHTML = `
        <img src="${img.src}" alt="${img.name}">
        <p>${img.name} - $${img.price}</p>
        <button onclick="addToCart('${img.name}', ${img.price})">Add to Cart</button>
      `;
      gallery.appendChild(item);
    });

    function addToCart(item, price) {
      cart.push({ item, price });
      renderCart();
    }

    function removeFromCart(index) {
      cart.splice(index, 1);
      renderCart();
    }

    function renderCart() {
      const cartList = document.getElementById('cart-items');
      const cartSummaryInput = document.getElementById('cart-summary');
      cartList.innerHTML = '';

      let subtotal = 0;
      let summary = '';

      cart.forEach((entry, index) => {
        subtotal += entry.price;
        summary += `${entry.item} - $${entry.price}\n`;
        const li = document.createElement('li');
        li.innerHTML = `${entry.item} - $${entry.price} <button class="remove-button" onclick="removeFromCart(${index})">Remove</button>`;
        cartList.appendChild(li);
      });

      const tax = +(subtotal * 0.13).toFixed(2);
      const shipping = cart.length > 0 ? 5 : 0;
      const total = (subtotal + tax + shipping).toFixed(2);

      summary += `\nSubtotal: $${subtotal.toFixed(2)}\nTax: $${tax.toFixed(2)}\nShipping: $${shipping.toFixed(2)}\nTotal: $${total}`;

      document.getElementById('subtotal').textContent = subtotal.toFixed(2);
      document.getElementById('tax').textContent = tax.toFixed(2);
      document.getElementById('shipping').textContent = shipping.toFixed(2);
      document.getElementById('total').textContent = total;

      cartSummaryInput.value = summary;
    }
  </script>
</body>
</html>
